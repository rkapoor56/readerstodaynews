<!DOCTYPE html>
<html>
<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
  <div id="app">
    <v-app>
      <v-content>
        <v-toolbar dark color="red" app>
                <v-toolbar-side-icon></v-toolbar-side-icon>
                <v-toolbar-title>{{title}}</v-toolbar-title>
        </v-toolbar>
        <v-container grid-list-md text-xs-center>
          <v-layout row wrap>
            <v-flex v-for="post in posts" :key="post.id" xs6>
              <v-card>
                  <v-img :src="post.media_items[0].image" aspect-ratio="2.75" ></v-img>

                  <v-card-title primary-title>
                    <div>
                      <h3 class="headline mb-0">{{post.title}}</h3>
                      <div>{{posts.content}}</div>
                    </div>
                  </v-card-title>

                  <v-card-actions>
                    <v-btn flat color="orange">Share</v-btn>
                    <v-btn flat color="orange">Like</v-btn>
                  </v-card-actions>
              </v-card>
            </v-flex>
          </v-layout>
          <v-layout row wrap>
            <v-flex v-for="post in old_posts" :key="post.id" xs4>
              <v-card>
                  <v-img :src="post.media_items[0].image" aspect-ratio="2.75" ></v-img>

                  <v-card-title primary-title>
                    <div>
                      <h3 class="headline mb-0">{{post.title}}</h3>
                      <div>{{posts.content}}</div>
                    </div>
                  </v-card-title>

                  <v-card-actions>
                    <v-btn flat color="orange">Share</v-btn>
                    <v-btn flat color="orange">Like</v-btn>
                  </v-card-actions>
              </v-card>
            </v-flex>
          </v-layout>
        </v-container>
    </v-content>
      <v-footer dark height="auto">
        <v-card flat tile class=" flex red lighten-1 white--text text-xs-center" >
          <v-card-text>
            <v-btn v-for="icon in icons" :key="icon" class="mx-3 white--text" icon>
              <v-icon size="24px">{{ icon }}</v-icon>
            </v-btn>
          </v-card-text>

          <v-card-text class="white--text pt-0">
            
          </v-card-text>

          <v-divider></v-divider>

          <v-card-text class="white--text">
            &copy;2018 â€” <strong>{{title}}</strong>
          </v-card-text>
        </v-card>
      </v-footer>
    </v-app>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
  <script>
    var app = new Vue({
        el: '#app',
        data: {
            title: 'Readers Today News',
            icons: [],
            posts: [],
            old_posts: [],
        },
        created: function(){
          this.get_posts()
        },
        methods: {
          get_posts: function(){
            var vm = this
            axios.get('/api/post/list?limit=2').then(
            response=>{
              console.log(response)
              vm.posts = response.data.results
            },
            error=>{
              console.log(error)
            })
            
            axios.get('/api/post/list?limit=20&offset=2').then(
            response=>{
              console.log(response)
              vm.old_posts = response.data.results
            },
            error=>{
              console.log(error)
            })
          }
        }
        })
  </script>
</body>
</html>